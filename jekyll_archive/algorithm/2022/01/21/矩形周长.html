<!DOCTYPE html><html lang="en">
  <head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>矩形周长 - RK's blog</title>

<meta name="description" content="https://www.luogu.com.cn/problem/P1856题意给出许多矩形，给出的数据为左下角和右上角，求解这些矩形并的周长。思路同求解矩形的面积一样，我们采取扫描线的手段来获取当前的线段长度。一个线段一定为产生两个端点。因此我们同样也需要求解出段数，对于一个线段树来说，我们的段数还算很好维护的...">
<link rel="canonical" href="https://blog.ohtoai.fun/algorithm/2022/01/21/%E7%9F%A9%E5%BD%A2%E5%91%A8%E9%95%BF.html"><link rel="alternate" type="application/rss+xml" title="RK's blog" href="/feed.xml"><!-- start favicons snippet, use https://realfavicongenerator.net/ --><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#fc4d50"><link rel="shortcut icon" href="/assets/favicon.ico">

<meta name="msapplication-TileColor" content="#ffc40d"><meta name="msapplication-config" content="/assets/browserconfig.xml">

<meta name="theme-color" content="#ffffff">
<!-- end favicons snippet --><link rel="stylesheet" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" ><!-- start custom head snippets -->
<link href='//cdn.jsdelivr.net/npm/@waline/client/dist/waline.css' rel='stylesheet' />
<!-- end custom head snippets -->
<script src="/assets/scripts/utils/utils.js"></script>
    <script src = "/assets/scripts/lib/throttle.js"></script>
    <script src = "/assets/scripts/lib/lazyload.js"></script>

    <!-- ms clarity --><script>
  (function() {
    var TEXT_VARIABLES = {
      version: '2.2.6',
      sources: {
        font_awesome: 'https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.2/css/all.min.css',
        jquery: 'https://cdn.bootcdn.net/ajax/libs/jquery/3.1.1/jquery.min.js',
        leancloud_js_sdk: '//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js',
        chart: 'https://cdn.bootcdn.net/ajax/libs/Chart.js/4.4.0/chart.umd.min.js',
        gitalk: {
          js: 'https://cdn.bootcdn.net/ajax/libs/gitalk/1.2.2/gitalk.min.js',
          css: 'https://cdn.bootcdn.net/ajax/libs/gitalk/1.2.2/gitalk.min.css'
        },
        valine: 'https://unpkg.com/valine/dist/Valine.min.js',
        waline: 'https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.js',
        mathjax: 'https://cdn.bootcdn.net/ajax/libs/mathjax/3.2.0/es5/tex-chtml.js',
        mermaid: 'https://cdn.bootcdn.net/ajax/libs/mermaid/10.4.0/mermaid.min.js'
      },
      site: {
        toc: {
          selectors: 'h2,h3,h4'
        }
      },
      paths: {
        search_js: '/assets/search.js'
      }
    };
    window.TEXT_VARIABLES = TEXT_VARIABLES;
  })();
</script>
</head>
  <body>
    <div class="root" data-is-touch="false">
      <div class="layout--page js-page-root"><div class="page__main js-page-main page__viewport has-aside cell cell--auto">

      <div class="page__main-inner"><div class="page__header d-print-none"><header class="header"><div class="main">
      <div class="header__title">
        <div class="header__brand"><svg width="64px" height="64px" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><title>love-france-heart-ico</title><g id="love-france-heart-ico"><circle cx="34" cy="35" r="23" style="fill:#e5efef"/><path d="M22.973,8.665a6.775,6.775,0,0,0-4.764,2.005,6.777,6.777,0,0,0-4.765-2.005c-3.947,0-7.147,3.5-7.147,7.826s8.338,11.738,11.912,14.347C21.782,28.229,30.12,20.813,30.12,16.491S26.92,8.665,22.973,8.665Z" style="fill:#f53e28;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M49.973,35.665a6.775,6.775,0,0,0-4.764,2.005,6.777,6.777,0,0,0-4.765-2.005c-3.947,0-7.147,3.5-7.147,7.826s8.338,11.738,11.912,14.347C48.782,55.229,57.12,47.813,57.12,43.491S53.92,35.665,49.973,35.665Z" style="fill:#fff;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><line x1="26" y1="35" x2="26" y2="37" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><line x1="26" y1="41" x2="26" y2="43" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><line x1="22" y1="39" x2="24" y2="39" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><line x1="28" y1="39" x2="30" y2="39" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><circle cx="37.5" cy="7.5" r="2.5" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><circle cx="4.5" cy="59.5" r="2.5" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M32.651,29.1a1.069,1.069,0,1,1-1.069-1.069A1.069,1.069,0,0,1,32.651,29.1Z" style="fill:#4c241d"/><path d="M59.651,27.1a1.069,1.069,0,1,1-1.069-1.069A1.069,1.069,0,0,1,59.651,27.1Z" style="fill:#4c241d"/><path d="M6.651,4.1A1.069,1.069,0,1,1,5.582,3.029,1.069,1.069,0,0,1,6.651,4.1Z" style="fill:#4c241d"/><path d="M58.651,58.1a1.069,1.069,0,1,1-1.069-1.069A1.069,1.069,0,0,1,58.651,58.1Z" style="fill:#4c241d"/><path d="M5.651,32.1a1.069,1.069,0,1,1-1.069-1.069A1.069,1.069,0,0,1,5.651,32.1Z" style="fill:#4c241d"/><path d="M46.04,18.49a2.605,2.605,0,0,0-1.831.77,2.609,2.609,0,0,0-1.832-.77A2.887,2.887,0,0,0,39.63,21.5c0,1.661,3.2,4.512,4.579,5.515,1.373-1,4.578-3.854,4.578-5.515A2.887,2.887,0,0,0,46.04,18.49Z" style="fill:#9dc1e4;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M57.04,4.49a2.605,2.605,0,0,0-1.831.77,2.609,2.609,0,0,0-1.832-.77A2.887,2.887,0,0,0,50.63,7.5c0,1.661,3.2,4.512,4.579,5.515,1.373-1,4.578-3.854,4.578-5.515A2.887,2.887,0,0,0,57.04,4.49Z" style="fill:#fff;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M14.04,39.49a2.605,2.605,0,0,0-1.831.77,2.609,2.609,0,0,0-1.832-.77A2.887,2.887,0,0,0,7.63,42.5c0,1.661,3.205,4.512,4.579,5.515,1.373-1,4.578-3.854,4.578-5.515A2.887,2.887,0,0,0,14.04,39.49Z" style="fill:#9dc1e4;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M27.04,51.49a2.605,2.605,0,0,0-1.831.77,2.609,2.609,0,0,0-1.832-.77A2.887,2.887,0,0,0,20.63,54.5c0,1.661,3.205,4.512,4.579,5.515,1.373-1,4.578-3.854,4.578-5.515A2.887,2.887,0,0,0,27.04,51.49Z" style="fill:#f53e28;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/></g></svg><a title="不知名211大三在读
" href="/">RK's blog</a></div>
      </div><nav class="navigation">
        <ul><li class="navigation__item"><a href="/archive/">Archive</a></li><li class="navigation__item"><a href="/about/">About</a></li><li class="navigation__item"><a href="/Friend-Link-House/">Links</a></li><li class="navigation__item"><a href="https://blogroll.rklittle.workers.dev/">blogroll</a></li></ul>
      </nav></div>
  </header>
</div><div class="page__content"><div class ="main"><div class="grid grid--reverse">

              <div class="col-aside d-print-none js-col-aside"><aside class="page__aside js-page-aside"><div class="toc-aside js-toc-root"></div>
</aside></div>

              <div class="col-main cell cell--auto"><!-- start custom main top snippet -->

<!-- end custom main top snippet -->
<article itemscope itemtype="http://schema.org/Article"><div class="article__header"><header><h1>矩形周长</h1></header><span class="split-space">&nbsp;</span>
          <a class="edit-on-github"
            title="Edit on Github"
            href="https://github.com/Real-king-Ph/Real-king-Ph.GitHub.io/tree/master/_posts/2022-01-03M/2022-01-21-矩形周长.md">
            <i class="far fa-edit"></i></a></div><meta itemprop="headline" content="矩形周长"><div class="article__info clearfix"><ul class="left-col menu"><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive/?tag=%E7%BA%BF%E6%AE%B5%E6%A0%91">线段树</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive/?tag=%E6%89%AB%E6%8F%8F%E7%BA%BF">扫描线</a>
            </li></ul><ul class="right-col menu"><li><i class="far fa-calendar-alt"></i> <span>Jan 21, 2022</span>
            </li><li><i class="fa-solid fa-eye"></i> <span class="waline-pageview-count" data-path="/algorithm/2022/01/21/%E7%9F%A9%E5%BD%A2%E5%91%A8%E9%95%BF.html">0</span> views</li></ul></div><meta itemprop="author" content="phrk"/><meta itemprop="datePublished" content="2022-01-21T00:00:00+00:00">
    <meta itemprop="keywords" content="线段树,扫描线"><div class="js-article-content"><div class="layout--article"><!-- start custom article top snippet -->

<!-- end custom article top snippet -->
<div class="article__content" itemprop="articleBody"><p><a href="https://www.luogu.com.cn/problem/P1856">https://www.luogu.com.cn/problem/P1856</a></p>

<h2 id="题意">题意</h2>

<p>给出许多矩形，给出的数据为左下角和右上角，求解这些矩形并的周长。</p>

<h2 id="思路">思路</h2>

<p>同求解矩形的面积一样，我们采取扫描线的手段来获取当前的线段长度。</p>

<p>一个线段一定为产生两个端点。因此我们同样也需要求解出段数，对于一个线段树来说，我们的段数还算很好维护的。</p>

<p>我们一个线段我们需要维护一些信息 <code class="language-plaintext highlighter-rouge">L , R , len , cnt , block</code>。</p>

<p>其中 <code class="language-plaintext highlighter-rouge">L</code> 表示这个线段的左端点我们取得到，<code class="language-plaintext highlighter-rouge">R</code> 同理。 <code class="language-plaintext highlighter-rouge">len</code> 表示线段的长度。 <code class="language-plaintext highlighter-rouge">cnt</code> 表示线段被加入的次数 , <code class="language-plaintext highlighter-rouge">block</code>。表示线段的段数</p>

<p><img src="https://uploadfiles.nowcoder.com/images/20220121/738444583_1642773044843/D2B5CA33BD970F64A6301FA75AE2EB22" alt="alt" /></p>

<p>对于这样的节点，得到以下结论是显然的</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">L[p] = L(Lson(p))</code></li>
  <li><code class="language-plaintext highlighter-rouge">R[p] = R(Rson(p))</code></li>
  <li><code class="language-plaintext highlighter-rouge">len[p] = len[Lson(p)] + len[Rson(p)]</code></li>
</ul>

<p>那么我们的 <code class="language-plaintext highlighter-rouge">block</code> 如果中间两个端点都有，说明中间是相连的，否则不相连。因此我我们也可以轻易的得出这样的结论</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">block[p] = block[Lson(p)] + block[Rson(p)] - L[Rson(p)] &amp;&amp; R[Lson(p)]</code></li>
</ul>

<p>扫描线计算的时间了。</p>

<p>我们可以采取两种做法。</p>

<h3 id="方法一">方法一</h3>

<p>假定，我们是从左到右进行扫描线。</p>

<p>我们可以记录上一个点<code class="language-plaintext highlighter-rouge">last</code>，当前的点减去上一个点就是距离，然后我们每次都求出来他们线段的个数 * 2，将其乘上距离，就是我们的横向线段的长度。</p>

<p>然后我们再次从下到上扫描以下就可以得到答案。</p>

<p>值得注意的是，如果采取这种方法的话，我并不需要维护线段树中的线段长度，因为在从左到右扫描的时候，我们的竖直方向的线段并没有参与运算。</p>

<h3 id="方法二">方法二</h3>

<p>假定，我们是从左到右进行扫描线。</p>

<p>首先，横向的线段我们同上面的方法相同。</p>

<p>那么剩下来处理竖向即可。</p>

<p>我们记录两个信息，<code class="language-plaintext highlighter-rouge">last_len</code>一个是上一个线段的的长度，另一个<code class="language-plaintext highlighter-rouge">__add</code>是上一个点是加边还是减边。</p>

<p><img src="https://uploadfiles.nowcoder.com/images/20220121/738444583_1642773968152/D2B5CA33BD970F64A6301FA75AE2EB22" alt="alt" /></p>

<p>对于初始步骤，我们先将 <code class="language-plaintext highlighter-rouge">last_len</code> 初始化为 <code class="language-plaintext highlighter-rouge">0</code> ，<code class="language-plaintext highlighter-rouge">last</code> 初始化为 <code class="language-plaintext highlighter-rouge">-inf</code></p>

<p>然后我们随着 <code class="language-plaintext highlighter-rouge">x</code> 的大小来遍历整个矩形。</p>

<p>首先达到位置 <code class="language-plaintext highlighter-rouge">1</code> ，检测到 <code class="language-plaintext highlighter-rouge">x != last</code>。我们计算线段树中的值。求得 <code class="language-plaintext highlighter-rouge">now_len = 0</code> 。我们的竖向长度增加 <code class="language-plaintext highlighter-rouge">|now_len - last_len|</code> 也就是 <code class="language-plaintext highlighter-rouge">0</code>，然后再我们将 <code class="language-plaintext highlighter-rouge">1</code> 号边加入，赋值<code class="language-plaintext highlighter-rouge">last = x</code> , <code class="language-plaintext highlighter-rouge">last_len = now_len</code>。</p>

<p>然后我们来到 <code class="language-plaintext highlighter-rouge">2</code> 号边，检测到 <code class="language-plaintext highlighter-rouge">x != last</code>。我们计算出，<code class="language-plaintext highlighter-rouge">now_len</code> 是一号边的长度，那么我们竖向边的长度加上 <code class="language-plaintext highlighter-rouge">|now_len - last_len|</code> 也就是 <code class="language-plaintext highlighter-rouge">1</code> 号边的长度，赋值，加边。</p>

<p>随后，我们到达下一个边 <code class="language-plaintext highlighter-rouge">3</code> 号边了，检测到 <code class="language-plaintext highlighter-rouge">x != last</code>。计算得出，<code class="language-plaintext highlighter-rouge">now_len</code> 也就是上图中 <code class="language-plaintext highlighter-rouge">now_len</code> 的长度。那么我们这两个边的差值 <code class="language-plaintext highlighter-rouge">|now_len - last_len| = real_add_len</code>。就是我们所增加的值，重复上述操作，赋值，加边。
<img src="https://uploadfiles.nowcoder.com/images/20220121/738444583_1642774950379/D2B5CA33BD970F64A6301FA75AE2EB22" alt="alt" /></p>

<p>如此往复直到最后，我们其实还剩下一个边，就是最右边的边没有加入我们的答案中，那么此时的 <code class="language-plaintext highlighter-rouge">last_len</code> 就是我们要加的边，此时，我们只需要<code class="language-plaintext highlighter-rouge">ans += last_len</code> 就可以更新答案了。</p>

<p>到这里，是不是发现我们上面有一个东西其实没有用上，我们想想 <code class="language-plaintext highlighter-rouge">__add</code> 为什么要存在呢？明明到这里已经完整的得到了上一个边和现在边的差值，就是我们想要的东西啊。</p>

<p>如果不加上接下来的步骤，你将痛失最后一个测试点 AC 的机会。</p>

<p>考虑这样一组测试数据</p>

<p><img src="https://uploadfiles.nowcoder.com/images/20220121/738444583_1642775302823/D2B5CA33BD970F64A6301FA75AE2EB22" alt="alt" /></p>

<p>由于我们并没有做出任何特殊处理，当我们到达 <code class="language-plaintext highlighter-rouge">2</code> 号节点的时候，我们将会有可能出现如下的错误。</p>

<blockquote>
  <p>当我们计算到 <code class="language-plaintext highlighter-rouge">3</code> 号节点的时候，我们的 <code class="language-plaintext highlighter-rouge">now_len</code> 是线段在 <code class="language-plaintext highlighter-rouge">2</code> 号节点的长度。而 <code class="language-plaintext highlighter-rouge">last_len</code> 却是线段在 <code class="language-plaintext highlighter-rouge">1</code> 号节点的长度。</p>

  <p>那么，显然 <code class="language-plaintext highlighter-rouge">|now_len - last_len|</code> 并不能得到正确的长度。</p>
</blockquote>

<p>如果我们想要得到正确的长度的话，我们可以进行如下的改进。将遍历顺序改为,以 <code class="language-plaintext highlighter-rouge">x</code> 为主关键字，是否减边为副关键字(加边在前)。</p>

<p>如果按照这种方式进行改进的时候，我们到达 <code class="language-plaintext highlighter-rouge">2</code> 号节点进行第一个删边的时候，我们得到的 <code class="language-plaintext highlighter-rouge">now_len</code> 就入下图所示。</p>

<p><img src="https://uploadfiles.nowcoder.com/images/20220121/738444583_1642775947366/D2B5CA33BD970F64A6301FA75AE2EB22" alt="alt" /></p>

<p>那么此时，我们就完美求出我们新加的俩个小边的值 <code class="language-plaintext highlighter-rouge">|now_len - last_len|</code>。随后执行删边。</p>

<p>那么我到达三号节点的时候，计算得到的 <code class="language-plaintext highlighter-rouge">last_len</code> 和 <code class="language-plaintext highlighter-rouge">now_len</code> 就如下图所示。</p>

<p><img src="https://uploadfiles.nowcoder.com/images/20220121/738444583_1642776131448/D2B5CA33BD970F64A6301FA75AE2EB22" alt="alt" /></p>

<p>那么到此，我们的操做就完全结束了。</p>

<p>事实上，如果我们记录 <code class="language-plaintext highlighter-rouge">last</code> 的值为上一个 <code class="language-plaintext highlighter-rouge">len</code> 我们也可以完成这个题目，具体大致相同，不过上一个 <code class="language-plaintext highlighter-rouge">x</code> 的位置还是省不了的。</p>

<p>详见注释</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
</pre></td><td class="code"><pre><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;tuple&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">using</span> <span class="n">PII</span> <span class="o">=</span> <span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">using</span> <span class="n">LL</span> <span class="o">=</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">50000</span> <span class="o">+</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">long</span> <span class="kt">long</span> <span class="n">leng</span><span class="p">[</span><span class="n">N</span> <span class="o">*</span> <span class="mi">2</span><span class="p">];</span>

<span class="k">struct</span> <span class="nc">SEG_Tree</span> <span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">PII</span><span class="o">&gt;</span> <span class="n">Range</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">LL</span><span class="o">&gt;</span> <span class="n">value</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">cnt</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">tie</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">Le</span><span class="p">,</span> <span class="n">Ri</span><span class="p">;</span>
    <span class="n">SEG_Tree</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">size</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="n">size</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="n">Range</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">PII</span><span class="o">&gt;</span><span class="p">(</span><span class="n">size</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">LL</span><span class="o">&gt;</span><span class="p">(</span><span class="n">size</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
        <span class="n">tie</span> <span class="o">=</span> <span class="n">cnt</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">size</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
        <span class="n">Le</span> <span class="o">=</span> <span class="n">Ri</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">size</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
        <span class="n">build</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">Lson</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">int</span> <span class="n">Rson</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span> <span class="p">}</span>

    <span class="kt">long</span> <span class="kt">long</span> <span class="n">len</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">leng</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="n">p</span><span class="p">].</span><span class="n">second</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">leng</span><span class="p">[</span><span class="n">Range</span><span class="p">[</span><span class="n">p</span><span class="p">].</span><span class="n">first</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">push_up</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">L</span> <span class="o">=</span> <span class="n">Lson</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">R</span> <span class="o">=</span> <span class="n">Rson</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">cnt</span><span class="p">[</span><span class="n">p</span><span class="p">])</span> <span class="p">{</span>
            <span class="n">value</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">len</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
            <span class="n">Le</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">Ri</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="n">tie</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">value</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">L</span><span class="p">]</span> <span class="o">+</span> <span class="n">value</span><span class="p">[</span><span class="n">R</span><span class="p">];</span>
            <span class="n">Le</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">Le</span><span class="p">[</span><span class="n">L</span><span class="p">],</span> <span class="n">Ri</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">Ri</span><span class="p">[</span><span class="n">R</span><span class="p">];</span>
            <span class="n">tie</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">tie</span><span class="p">[</span><span class="n">L</span><span class="p">]</span> <span class="o">+</span> <span class="n">tie</span><span class="p">[</span><span class="n">R</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">Ri</span><span class="p">[</span><span class="n">L</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">Le</span><span class="p">[</span><span class="n">R</span><span class="p">])</span> <span class="n">tie</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">build</span><span class="p">(</span><span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Range</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">};</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">Le</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">Ri</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
            <span class="n">cnt</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">tie</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span> <span class="o">+</span> <span class="n">r</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">build</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">Lson</span><span class="p">(</span><span class="n">p</span><span class="p">));</span>
        <span class="n">build</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">Rson</span><span class="p">(</span><span class="n">p</span><span class="p">));</span>
        <span class="n">push_up</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">add</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">v</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="p">[</span><span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">]</span> <span class="o">=</span> <span class="n">Range</span><span class="p">[</span><span class="n">p</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cnt</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">+=</span> <span class="n">v</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">cnt</span><span class="p">[</span><span class="n">p</span><span class="p">])</span> <span class="p">{</span>
                <span class="n">value</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">len</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
                <span class="n">Le</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">Ri</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                <span class="n">tie</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">value</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">Le</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">Ri</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
                <span class="n">tie</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">l</span> <span class="o">&amp;&amp;</span> <span class="n">r</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cnt</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">+=</span> <span class="n">v</span><span class="p">;</span>
            <span class="n">push_up</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span> <span class="o">+</span> <span class="n">r</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">)</span> <span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">Lson</span><span class="p">(</span><span class="n">p</span><span class="p">));</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">m</span><span class="p">)</span> <span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">Rson</span><span class="p">(</span><span class="n">p</span><span class="p">));</span>
        <span class="n">push_up</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">se</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">tie</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="p">}</span>
    <span class="kt">int</span> <span class="n">le</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">tuple</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">v</span><span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">;</span>
        <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x1</span> <span class="o">&gt;&gt;</span> <span class="n">y1</span> <span class="o">&gt;&gt;</span> <span class="n">x2</span> <span class="o">&gt;&gt;</span> <span class="n">y2</span><span class="p">;</span>
        <span class="n">v</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">x1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">};</span>
        <span class="n">v</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">x2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">};</span>
        <span class="n">leng</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">y1</span><span class="p">;</span>
        <span class="n">leng</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">y2</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="p">[](</span><span class="k">auto</span> <span class="n">x</span><span class="p">,</span> <span class="k">auto</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
        <span class="k">auto</span> <span class="p">[</span><span class="n">xx1</span><span class="p">,</span> <span class="n">vv</span><span class="p">,</span> <span class="n">yy1</span><span class="p">,</span> <span class="n">yy2</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x1</span> <span class="o">==</span> <span class="n">xx1</span><span class="p">)</span> <span class="k">return</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="n">vv</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">x1</span> <span class="o">&lt;</span> <span class="n">xx1</span><span class="p">;</span>
    <span class="p">});</span>
    <span class="n">n</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">leng</span><span class="p">,</span> <span class="n">leng</span> <span class="o">+</span> <span class="n">n</span><span class="p">);</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">unique</span><span class="p">(</span><span class="n">leng</span><span class="p">,</span> <span class="n">leng</span> <span class="o">+</span> <span class="n">n</span><span class="p">)</span> <span class="o">-</span> <span class="n">leng</span><span class="p">;</span>

    <span class="n">SEG_Tree</span> <span class="n">st</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>

    <span class="k">auto</span> <span class="n">find</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">lower_bound</span><span class="p">(</span><span class="n">leng</span><span class="p">,</span> <span class="n">leng</span> <span class="o">+</span> <span class="n">n</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="n">leng</span><span class="p">;</span> <span class="p">};</span>

    <span class="kt">int</span> <span class="n">last</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1001011</span><span class="p">;</span>
    <span class="kt">long</span> <span class="kt">long</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">long</span> <span class="kt">long</span> <span class="n">len</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">lsv</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">]</span> <span class="o">:</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">y1</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">y1</span><span class="p">),</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">y2</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">last</span> <span class="o">||</span> <span class="n">v</span> <span class="o">!=</span> <span class="n">lsv</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// if (st.se() != len || v != lsv) {</span>
     <span class="c1">///&lt; 每次比较线段长度</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">st</span><span class="p">.</span><span class="n">se</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2ll</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">last</span><span class="p">);</span>
            <span class="n">ans</span> <span class="o">+=</span> <span class="n">abs</span><span class="p">(</span><span class="n">st</span><span class="p">.</span><span class="n">le</span><span class="p">()</span> <span class="o">-</span> <span class="n">len</span><span class="p">);</span>
            <span class="n">last</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
            <span class="n">lsv</span> <span class="o">=</span> <span class="n">v</span><span class="p">;</span>
            <span class="n">len</span> <span class="o">=</span> <span class="n">st</span><span class="p">.</span><span class="n">le</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">st</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">ans</span> <span class="o">+=</span> <span class="n">len</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ans</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

</div><section class="article__sharing d-print-none"><!-- AddToAny BEGIN -->
<div class="a2a_kit a2a_kit_size_32 a2a_default_style">
   <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
   <a class="a2a_button_wechat"></a>
   <a class="a2a_button_copy_link"></a>
   <a class="a2a_button_twitter"></a>
   <a class="a2a_button_email"></a>
</div>
<script async src="https://static.addtoany.com/menu/page.js"></script>
<!-- AddToAny END -->
</section><div class="d-print-none"><footer class="article__footer"><meta itemprop="dateModified" content="2022-01-21T00:00:00+00:00"><!-- start custom article footer snippet -->

<!-- end custom article footer snippet -->
<div class="article__subscribe"><div class="subscribe"><i class="fas fa-rss"></i> <a type="application/rss+xml" href="/feed.xml">Subscribe</a></div>
</div><div class="article__license"><div class="license">
    <p>This work is licensed under <a itemprop="license" rel="license" href="https://github.com/Real-king-Ph/Real-king-Ph.GitHub.io/blob/master/LICENSE">The MIT License</a> license.
    </p>
  </div></div></footer>
<div class="article__section-navigator clearfix"><div class="previous"><span>PREVIOUS</span><a href="/algorithm/2022/01/19/%E6%B6%88%E8%80%97%E6%88%98.html">消耗战</a></div><div class="next"><span>NEXT</span><a href="/algorithm/2022/01/21/%E9%87%8D%E5%BB%BA%E9%81%93%E8%B7%AF.html">重建道路</a></div></div></div>

</div>

<script src="/assets/scripts/article.js">
</script>


<div class="post-categories">
  
  
  <a class="button button--outline-secondary button--pill"
    href="/categories/algorithm">algorithm</a>
  
  
</div><div id="totop"
   style="position: fixed; bottom: 90px; right: 40px; opacity: 0;background: url(/assets/images/topbutton.png) no-repeat center center;">
   <a id="totop_a" title="Back To Top" style="width:64px; height:64px;display: block;"></a>
</div>
</div><section class="page__comments d-print-none"></section></article><!-- start custom main bottom snippet -->

<!-- end custom main bottom snippet -->
</div>
            </div></div></div><div class="page__footer d-print-none">
<footer class="footer py-4 js-page-footer">
  <div class="main"><div itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="phrk"><meta itemprop="url" content="https://blog.ohtoai.fun/about/"><!-- Success is not final, failure is not fatal: it is the courage to continue that counts. -->
        <meta itemprop="description" content="Success is not final, failure is not fatal: it is the courage to continue that counts."><div class="footer__author-links"><div class="author-links">
  <ul class="menu menu--nowrap menu--inline"><link itemprop="url" href="https://blog.ohtoai.fun/about/"><li title="Send me an Email.">
      <a class="button button--circle mail-button" itemprop="email" href="mailto:phrknfish@outlook.com" target="_blank">
        <i class="fas fa-envelope"></i>
      </a><li title="Follow me on Github.">
        <a class="button button--circle github-button" itemprop="sameAs" href="https://github.com/Real-king-Ph" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path class="svgpath" data-index="path_0" fill="#272636" d="M0 525.2c0 223.6 143.3 413.7 343 483.5 26.9 6.8 22.8-12.4 22.8-25.4l0-88.7c-155.3 18.2-161.5-84.6-172-101.7-21.1-36-70.8-45.2-56-62.3 35.4-18.2 71.4 4.6 113.1 66.3 30.2 44.7 89.1 37.2 119 29.7 6.5-26.9 20.5-50.9 39.7-69.6C248.8 728.2 181.7 630 181.7 513.2c0-56.6 18.7-108.7 55.3-150.7-23.3-69.3 2.2-128.5 5.6-137.3 66.5-6 135.5 47.6 140.9 51.8 37.8-10.2 80.9-15.6 129.1-15.6 48.5 0 91.8 5.6 129.8 15.9 12.9-9.8 77-55.8 138.8-50.2 3.3 8.8 28.2 66.7 6.3 135 37.1 42.1 56 94.6 56 151.4 0 117-67.5 215.3-228.8 243.7 26.9 26.6 43.6 63.4 43.6 104.2l0 128.8c0.9 10.3 0 20.5 17.2 20.5C878.1 942.4 1024 750.9 1024 525.3c0-282.9-229.3-512-512-512C229.1 13.2 0 242.3 0 525.2L0 525.2z" />
</svg>
</div>
        </a>
      </li></ul>
</div>
</div>
    </div><div class="site-info mt-2">
      <div>© RK's blog 2022-2023,
        Powered by <a title="Jekyll is a simple, blog-aware, static site generator." href="http://jekyllrb.com/">Jekyll</a> & <a
        title="TeXt is a super customizable Jekyll theme." href="https://github.com/kitian616/jekyll-TeXt-theme">TeXt Theme</a>.
      </div>
      <p id="hitokoto">:D loading...</p>
      <script src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto" defer></script>
    </div>
  </div>
</footer>
</div></div>
    </div><script src="/assets/scripts/lib/modal.js"></script><div class="modal modal--overflow page__search-modal d-print-none js-page-search-modal"></div></div>


<script src="/assets/scripts/lib/scroll-to.js"></script>
<script src="/assets/scripts/lib/affix.js"></script>
<script src="/assets/scripts/lib/toc.js"></script><script src="/assets/scripts/page.js"></script><!-- toc must before affix, since affix need to konw toc' height. --><script src="/assets/scripts/aside/toc.js"></script><script src="/assets/scripts/aside/affix.js"></script>
    </div>
    <script src="/assets/scripts/common.js"></script>
  </body>
</html>

