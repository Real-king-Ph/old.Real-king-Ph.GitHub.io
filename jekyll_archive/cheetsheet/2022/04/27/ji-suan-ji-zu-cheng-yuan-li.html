<!DOCTYPE html><html lang="en">
  <head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>计算机组成原理 简易整理 - RK's blog</title>

<meta name="description" content="content : 考试相关target  : examedit    :  - version   : 'v1.0'    edit_time : 2022-04-27    message   : "新增第 一\三 章的总结"  - version   : 'v1.1'    edit_time : 2022...">
<link rel="canonical" href="https://blog.ohtoai.fun/cheetsheet/2022/04/27/ji-suan-ji-zu-cheng-yuan-li.html"><link rel="alternate" type="application/rss+xml" title="RK's blog" href="/feed.xml"><!-- start favicons snippet, use https://realfavicongenerator.net/ --><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#fc4d50"><link rel="shortcut icon" href="/assets/favicon.ico">

<meta name="msapplication-TileColor" content="#ffc40d"><meta name="msapplication-config" content="/assets/browserconfig.xml">

<meta name="theme-color" content="#ffffff">
<!-- end favicons snippet --><link rel="stylesheet" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" ><!-- start custom head snippets -->
<link href='//cdn.jsdelivr.net/npm/@waline/client/dist/waline.css' rel='stylesheet' />
<!-- end custom head snippets -->
<script src="/assets/scripts/utils/utils.js"></script>
    <script src = "/assets/scripts/lib/throttle.js"></script>
    <script src = "/assets/scripts/lib/lazyload.js"></script>

    <!-- ms clarity --><script>
  (function() {
    var TEXT_VARIABLES = {
      version: '2.2.6',
      sources: {
        font_awesome: 'https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.2/css/all.min.css',
        jquery: 'https://cdn.bootcdn.net/ajax/libs/jquery/3.1.1/jquery.min.js',
        leancloud_js_sdk: '//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js',
        chart: 'https://cdn.bootcdn.net/ajax/libs/Chart.js/4.4.0/chart.umd.min.js',
        gitalk: {
          js: 'https://cdn.bootcdn.net/ajax/libs/gitalk/1.2.2/gitalk.min.js',
          css: 'https://cdn.bootcdn.net/ajax/libs/gitalk/1.2.2/gitalk.min.css'
        },
        valine: 'https://unpkg.com/valine/dist/Valine.min.js',
        waline: 'https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.js',
        mathjax: 'https://cdn.bootcdn.net/ajax/libs/mathjax/3.2.0/es5/tex-chtml.js',
        mermaid: 'https://cdn.bootcdn.net/ajax/libs/mermaid/10.4.0/mermaid.min.js'
      },
      site: {
        toc: {
          selectors: 'h2,h3,h4'
        }
      },
      paths: {
        search_js: '/assets/search.js'
      }
    };
    window.TEXT_VARIABLES = TEXT_VARIABLES;
  })();
</script>
</head>
  <body>
    <div class="root" data-is-touch="false">
      <div class="layout--page js-page-root"><div class="page__main js-page-main page__viewport has-aside cell cell--auto">

      <div class="page__main-inner"><div class="page__header d-print-none"><header class="header"><div class="main">
      <div class="header__title">
        <div class="header__brand"><svg width="64px" height="64px" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><title>love-france-heart-ico</title><g id="love-france-heart-ico"><circle cx="34" cy="35" r="23" style="fill:#e5efef"/><path d="M22.973,8.665a6.775,6.775,0,0,0-4.764,2.005,6.777,6.777,0,0,0-4.765-2.005c-3.947,0-7.147,3.5-7.147,7.826s8.338,11.738,11.912,14.347C21.782,28.229,30.12,20.813,30.12,16.491S26.92,8.665,22.973,8.665Z" style="fill:#f53e28;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M49.973,35.665a6.775,6.775,0,0,0-4.764,2.005,6.777,6.777,0,0,0-4.765-2.005c-3.947,0-7.147,3.5-7.147,7.826s8.338,11.738,11.912,14.347C48.782,55.229,57.12,47.813,57.12,43.491S53.92,35.665,49.973,35.665Z" style="fill:#fff;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><line x1="26" y1="35" x2="26" y2="37" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><line x1="26" y1="41" x2="26" y2="43" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><line x1="22" y1="39" x2="24" y2="39" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><line x1="28" y1="39" x2="30" y2="39" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><circle cx="37.5" cy="7.5" r="2.5" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><circle cx="4.5" cy="59.5" r="2.5" style="fill:none;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M32.651,29.1a1.069,1.069,0,1,1-1.069-1.069A1.069,1.069,0,0,1,32.651,29.1Z" style="fill:#4c241d"/><path d="M59.651,27.1a1.069,1.069,0,1,1-1.069-1.069A1.069,1.069,0,0,1,59.651,27.1Z" style="fill:#4c241d"/><path d="M6.651,4.1A1.069,1.069,0,1,1,5.582,3.029,1.069,1.069,0,0,1,6.651,4.1Z" style="fill:#4c241d"/><path d="M58.651,58.1a1.069,1.069,0,1,1-1.069-1.069A1.069,1.069,0,0,1,58.651,58.1Z" style="fill:#4c241d"/><path d="M5.651,32.1a1.069,1.069,0,1,1-1.069-1.069A1.069,1.069,0,0,1,5.651,32.1Z" style="fill:#4c241d"/><path d="M46.04,18.49a2.605,2.605,0,0,0-1.831.77,2.609,2.609,0,0,0-1.832-.77A2.887,2.887,0,0,0,39.63,21.5c0,1.661,3.2,4.512,4.579,5.515,1.373-1,4.578-3.854,4.578-5.515A2.887,2.887,0,0,0,46.04,18.49Z" style="fill:#9dc1e4;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M57.04,4.49a2.605,2.605,0,0,0-1.831.77,2.609,2.609,0,0,0-1.832-.77A2.887,2.887,0,0,0,50.63,7.5c0,1.661,3.2,4.512,4.579,5.515,1.373-1,4.578-3.854,4.578-5.515A2.887,2.887,0,0,0,57.04,4.49Z" style="fill:#fff;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M14.04,39.49a2.605,2.605,0,0,0-1.831.77,2.609,2.609,0,0,0-1.832-.77A2.887,2.887,0,0,0,7.63,42.5c0,1.661,3.205,4.512,4.579,5.515,1.373-1,4.578-3.854,4.578-5.515A2.887,2.887,0,0,0,14.04,39.49Z" style="fill:#9dc1e4;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/><path d="M27.04,51.49a2.605,2.605,0,0,0-1.831.77,2.609,2.609,0,0,0-1.832-.77A2.887,2.887,0,0,0,20.63,54.5c0,1.661,3.205,4.512,4.579,5.515,1.373-1,4.578-3.854,4.578-5.515A2.887,2.887,0,0,0,27.04,51.49Z" style="fill:#f53e28;stroke:#4c241d;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px"/></g></svg><a title="不知名211大三在读
" href="/">RK's blog</a></div>
      </div><nav class="navigation">
        <ul><li class="navigation__item"><a href="/archive/">Archive</a></li><li class="navigation__item"><a href="/about/">About</a></li><li class="navigation__item"><a href="/Friend-Link-House/">Links</a></li><li class="navigation__item"><a href="https://blogroll.rklittle.workers.dev/">blogroll</a></li></ul>
      </nav></div>
  </header>
</div><div class="page__content"><div class ="main"><div class="grid grid--reverse">

              <div class="col-aside d-print-none js-col-aside"><aside class="page__aside js-page-aside"><div class="toc-aside js-toc-root"></div>
</aside></div>

              <div class="col-main cell cell--auto"><!-- start custom main top snippet -->

<!-- end custom main top snippet -->
<article itemscope itemtype="http://schema.org/Article"><div class="article__header"><header><h1>计算机组成原理 简易整理</h1></header><span class="split-space">&nbsp;</span>
          <a class="edit-on-github"
            title="Edit on Github"
            href="https://github.com/Real-king-Ph/Real-king-Ph.GitHub.io/tree/master/_posts/2022-04-06M/2022-04-27-ji-suan-ji-zu-cheng-yuan-li.md">
            <i class="far fa-edit"></i></a></div><meta itemprop="headline" content="计算机组成原理 简易整理"><div class="article__info clearfix"><ul class="left-col menu"><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive/?tag=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86">计算机组成原理</a>
            </li></ul><ul class="right-col menu"><li><i class="far fa-calendar-alt"></i> <span>Apr 27, 2022</span>
            </li><li><i class="fa-solid fa-eye"></i> <span class="waline-pageview-count" data-path="/cheetsheet/2022/04/27/ji-suan-ji-zu-cheng-yuan-li.html">0</span> views</li></ul></div><meta itemprop="author" content="phrk"/><meta itemprop="datePublished" content="2022-04-27T00:00:00+00:00">
    <meta itemprop="keywords" content="计算机组成原理"><div class="js-article-content"><div class="layout--article"><!-- start custom article top snippet -->

<!-- end custom article top snippet -->
<div class="article__content" itemprop="articleBody"><div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">content </span><span class="pi">:</span> <span class="s">考试相关</span>
<span class="na">target  </span><span class="pi">:</span> <span class="s">exam</span>
<span class="na">edit    </span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">version   </span><span class="pi">:</span> <span class="s1">'</span><span class="s">v1.0'</span>
    <span class="na">edit_time </span><span class="pi">:</span> <span class="s">2022-04-27</span>
    <span class="na">message   </span><span class="pi">:</span> <span class="s2">"</span><span class="s">新增第</span><span class="nv"> </span><span class="s">一</span><span class="err">\</span><span class="s">三</span><span class="nv"> </span><span class="s">章的总结"</span>
  <span class="pi">-</span> <span class="na">version   </span><span class="pi">:</span> <span class="s1">'</span><span class="s">v1.1'</span>
    <span class="na">edit_time </span><span class="pi">:</span> <span class="s">2022-04-28</span>
    <span class="na">message   </span><span class="pi">:</span> <span class="s2">"</span><span class="s">新增第四章总结"</span>
</code></pre></div></div>

<h2 id="计算机组成原理概论">计算机组成原理概论</h2>

<h3 id="1-软硬件的概念">1. 软硬件的概念</h3>

<pre><code class="language-mermaid">flowchart LR;
A["计算机系统"] ---&gt; B["硬件"] &amp; C["软件"]
C ---&gt; D["系统软件"] &amp; E["应用软件"]

</code></pre>

<p>可以简单将软硬件看作一个层次结构，<strong>硬件为软件提供接口，系统软件又为应用软件形成接口，来完成不同的程序。</strong></p>

<p><img src="https://s2.loli.net/2022/04/27/gRyn9TZw6FxqDb8.png" alt="机器层级" /></p>

<p>计算机系统结构定义了<strong>软硬件的交界面</strong>，即哪些由软件完成，哪些由硬件完成。</p>

<p>计算机组成： 实现计算机体系结构所体现的属性，即具体<strong>指令的实现</strong></p>

<h3 id="2-计算机的基本组成">2. 计算机的基本组成</h3>

<h4 id="1-冯诺依曼结构">1. 冯诺依曼结构</h4>

<p><img src="https://s2.loli.net/2022/04/27/bEqo7Qhnd6D9zvm.png" alt="冯诺依曼计算机组成结构" /></p>

<p>主要有以下的特点</p>

<ul>
  <li>五大部件</li>
  <li>中心为运算器</li>
  <li>指令和数据存储相同</li>
  <li>一个指令分为两部分，操作码和地址码。</li>
</ul>

<h4 id="2-现代计算机结构">2. 现代计算机结构</h4>

<p>现代计算机结构同冯诺依曼结构类似，只不过将中心由运算器改为了存储器。变动主要由，数据优先输入到存储器中，运算器只处理存储器中的东西 。</p>

<p><img src="https://s2.loli.net/2022/04/27/Mm3KYhPGjprZvbD.png" alt="现代计算机结构框图" /></p>

<p>从内到外依次为：CPU，主机，硬件。</p>

<p>具体如下</p>

<p><img src="https://s2.loli.net/2022/04/27/WptjGTLXiwHQdN5.png" alt="现代计算机硬件框图" /></p>

<h4 id="存储器的基本组成">存储器的基本组成</h4>

<p><img src="https://s2.loli.net/2022/04/27/9wTDX3O2ysr1lvn.png" alt="存储器的基本组成" /></p>

<h4 id="运算器的基本结构">运算器的基本结构</h4>

<p>基本如下</p>

<p><img src="https://s2.loli.net/2022/04/27/kpv5XSUeO1NDnlu.png" alt="运算器的基本结构" /></p>

<p>其中 X 为取出的数据</p>

<h4 id="控制器的基本结构">控制器的基本结构</h4>

<p><img src="https://s2.loli.net/2022/04/27/fdD3STuyvbgaeN7.png" alt="image-20220427173410897" /></p>

<ul>
  <li>PC (程序计数器) 加一，走到下一步指令，取出</li>
  <li>IR（指令寄存器）存放指令，然后送至CU</li>
  <li>CU（控制单元）分析指令，并操作</li>
</ul>

<h4 id="完成一条指令的过程">完成一条指令的过程</h4>

<p><img src="https://s2.loli.net/2022/04/27/unUtWXfakN5ELv9.png" alt="image-20220427174102305" /></p>

<ol>
  <li>PC + 1</li>
  <li>MAR 存地址</li>
  <li>MDR 去数据</li>
  <li>数据送至 IR</li>
  <li>IR 送至 CU</li>
  <li>同时将数据地址送至 MAR</li>
  <li>MAR 寻找数据</li>
  <li>MDR 存数据</li>
  <li>CU控制，将数据送至 ACC</li>
</ol>

<h3 id="3-计算机硬件指标">3. 计算机硬件指标</h3>

<ul>
  <li>机器字长： 一次处理数据的位数</li>
  <li>运算速度：主频、核数以及每个核支持的线程数、CPI（执行一条指令所需的时钟周期数）、MIPS（每秒执行百万条指令）、FLOPS（每秒浮点运算次数）。</li>
  <li>存储容量：主存容量（可使用存储单元个数×存储字长来表示存储体容量，MAR * MDR）（也可使用字节数来表示）、辅存容量（字节数表示）。</li>
</ul>

<h2 id="系统总线">系统总线</h2>

<p>总线是连接各个部件之间的信息传输线，是各个部件之间传输信息的介质。</p>

<h3 id="总线上的信息传送">总线上的信息传送</h3>

<p>有两种传输的方式</p>

<ul>
  <li>串行  一条线进行传输</li>
  <li>并行  多条线进行传输</li>
</ul>

<blockquote>
  <p>在现代计算机中多采用串行方式，因为现代计算机的时钟频率已经非常的高了，串行会相互影响</p>
</blockquote>

<h3 id="总线结构的计算机举例">总线结构的计算机举例</h3>

<p>单总线的计算机结构。</p>

<p><img src="https://s2.loli.net/2022/04/27/eUSEZW8VwLztBon.png" alt="单总线的计算机结构" /></p>

<p>双总线就是在主存和 CPU 之间插入一条 M总线</p>

<h3 id="总线的分类">总线的分类</h3>

<ol>
  <li>片内总线： <strong>芯片内部</strong>的总线</li>
  <li>系统总线： <strong>实现计算机各个部件</strong>之间的传输
    <ol>
      <li>数据总线  <strong>双向</strong>  与机器字长、存储字长相关</li>
      <li>地址总线  <strong>单向</strong></li>
      <li>控制总线 <strong>入、出</strong></li>
    </ol>
  </li>
  <li>通信总线  用于<strong>计算机系统</strong>之间或<strong>其它系统</strong>的通信</li>
</ol>

<h3 id="总线的特性和性能指标">总线的特性和性能指标</h3>

<p>总线在主板上，其他设备插入到主板上</p>

<ol>
  <li>机器特性 大小、形状、<strong>管脚数</strong>、<strong>排列顺序</strong></li>
  <li>电器特性  传输方向、有效<strong>电平</strong>范围</li>
  <li>功能特性   传输的功能
    <ol>
      <li>地址</li>
      <li>数据</li>
      <li>控制</li>
    </ol>
  </li>
  <li>时间特性 信号和<strong>时序</strong>的关系</li>
</ol>

<h4 id="总线的性能指标">总线的性能指标</h4>

<ol>
  <li>宽度</li>
  <li>标准传输速率</li>
  <li>时钟 同步/异步</li>
  <li>总线复用</li>
  <li>信号线数</li>
  <li>总线控制方式</li>
  <li>其他指标</li>
</ol>

<h4 id="总线标准">总线标准</h4>

<p><img src="https://s2.loli.net/2022/04/27/kjWf2PvziJpCBnX.png" alt="总线标准" /></p>

<h3 id="总线结构">总线结构</h3>

<ol>
  <li>
    <p>双总线结构</p>

    <p><img src="https://s2.loli.net/2022/04/27/O6jYPDpZnFbJioK.png" alt="双总线结构" /></p>
  </li>
  <li>
    <p>三总线结构</p>

    <p><img src="https://s2.loli.net/2022/04/27/2psWImgVOFrdzDo.png" alt="三总线结构" /></p>

    <p>高速设备通过 DMA 总线进行传输</p>
  </li>
  <li>
    <p>三总线变种</p>

    <p><img src="https://s2.loli.net/2022/04/27/QXxkwzv4lsZP9TV.png" alt="三总线变种" /></p>
  </li>
</ol>

<p>还有许多都大同小异，就不一一放了。</p>

<h3 id="总线控制">总线控制</h3>

<h4 id="总线判优控制">总线判优控制</h4>

<ol>
  <li>基本概念
    <ul>
      <li>主设备  对总线具有<strong>控制权</strong></li>
      <li>从设备  <strong>响应</strong>主设备的命令</li>
      <li>总线判优控制
        <ul>
          <li>集中式
            <ul>
              <li>链式查询</li>
              <li>计数器定时查询</li>
              <li>独立请求方式</li>
            </ul>
          </li>
          <li>分布式</li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<h4 id="链式查询方式">链式查询方式</h4>

<p><img src="https://s2.loli.net/2022/04/27/TgbyCowAr1XPZkW.png" alt="链式查询方式" /></p>

<p>通过 BR 申请，BG同意，同意的设备占用BS其他设备此时无法使用</p>

<ul>
  <li>优点
    <ul>
      <li>结构简单</li>
      <li>易于扩展</li>
    </ul>
  </li>
  <li>缺点
    <ul>
      <li>优先级固定</li>
      <li>容易坏</li>
    </ul>
  </li>
</ul>

<h4 id="计数器定时查询方式">计数器定时查询方式</h4>

<p>将链式换位计数器轮询的方式</p>

<p><img src="https://s2.loli.net/2022/04/27/pBUAaWzJPXGo2uC.png" alt="计数器定时查询方式" /></p>

<ul>
  <li>优点
    <ul>
      <li>不易受到影响</li>
      <li>轮询的方式</li>
    </ul>
  </li>
</ul>

<h4 id="独立请求方式">独立请求方式</h4>

<p><img src="https://s2.loli.net/2022/04/27/8utzm6HN9YyjeV4.png" alt="独立请求方式" /></p>

<p>通过排队器来确定优先级，不过线数较多。</p>

<h3 id="总线通信控制">总线通信控制</h3>

<ol>
  <li>目的 ， 解决通信双方<strong>协调配合</strong>的问题</li>
  <li>传输的周期
    <ol>
      <li>申请分配阶段 <strong>主模块</strong>申请，总线仲裁</li>
      <li>寻址阶段         主模块向从模块<strong>给出地址</strong>和<strong>命令</strong></li>
      <li>传数阶段</li>
      <li>结束阶段         主模块<strong>撤销</strong>相关信息</li>
    </ol>
  </li>
  <li>总线通信的四种方式
    <ul>
      <li>同步通信  由统一时标控制数据传送</li>
      <li>异步通信  采用应答方式，没有公共时钟标准</li>
      <li>半同步通信  同步异步相结合</li>
      <li>分离式通信</li>
    </ul>
  </li>
</ol>

<p>异步通信有三种形式</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>过程如下:
主设备请求 ---&gt; 从设备应答 ---&gt; 主设备撤销 ---&gt; 从设备停止
    1~~~~~~^             2~~~~^        3 ~~~~^
</code></pre></div></div>

<ul>
  <li>不互锁  1</li>
  <li>半互锁  12</li>
  <li>全互锁  123</li>
</ul>

<h2 id="存储器">存储器</h2>

<h3 id="概述">概述</h3>

<p>按照作用分类</p>

<p><img src="https://s2.loli.net/2022/04/28/B43gfzK5cvEspP9.png" alt="存储器按照作用分类" /></p>

<p>CPU 的层次结构</p>

<pre><code class="language-mermaid">flowchart LR
A[CPU]
B[缓存]
C[主存]
D[辅存]

A &lt;---&gt; B &amp; C
B &lt;---&gt; C
C &lt;---&gt; D
</code></pre>

<h3 id="主存储器">主存储器</h3>

<h4 id="概述-1">概述</h4>

<p>结构通常如下</p>

<p><img src="https://s2.loli.net/2022/04/28/4oO1sxCp7fhqX6A.png" alt="主存储器结构" /></p>

<p><img src="https://s2.loli.net/2022/04/28/3RKPdnbJYEXe1IM.png" alt="主存储器和CPU的联系" /></p>

<p>主存储器的技术指标</p>

<ol>
  <li>存储容量=存储单元个数$\times$存储字长</li>
  <li>存储速度
    <ul>
      <li>存取时间又称为存储器访问时间，一次<strong>启动到完成</strong>的全部时间</li>
      <li>存储周期，指连续两次独立的存储操作的<strong>最小间隔</strong>。</li>
    </ul>
  </li>
  <li>存储器带宽</li>
</ol>

<h4 id="主存储器半导体芯片简介">主存储器半导体芯片简介</h4>

<h5 id="基本结构">基本结构</h5>

<p><img src="https://s2.loli.net/2022/04/28/Hp8VxEI9hMlreiO.png" alt="半导体存储器芯片的基本结构" /></p>

<ol>
  <li>片选信号$\overline{CS}$(低电平有效)  $\overline{CE}$（使能型号)</li>
  <li>读写
    <ol>
      <li>$\overline{WE}$ 低电平写，高电平读</li>
      <li>$\overline{OE}$ 读 $\overline{WE}$ 写</li>
    </ol>
  </li>
  <li>片选线表示选择哪一个，可以利用片选型号进行扩展</li>
</ol>

<h5 id="半导体存储芯片的译码驱动方式">半导体存储芯片的译码驱动方式</h5>

<ol>
  <li>
    <p>线选法</p>

    <p>用一个 <code class="language-plaintext highlighter-rouge">m:n</code> 译码器进行选择</p>

    <p>有点事简单，缺点是线多</p>
  </li>
  <li>
    <p>重合法</p>

    <p>将一个数字变成两个部分，加入一个数字是 <code class="language-plaintext highlighter-rouge">aaaabbbb</code> 那么 <code class="language-plaintext highlighter-rouge">X</code> 轴的信号为 <code class="language-plaintext highlighter-rouge">aaaa</code> ,<code class="language-plaintext highlighter-rouge">Y</code> 轴的信号为 <code class="language-plaintext highlighter-rouge">bbbb</code> 那么<code class="language-plaintext highlighter-rouge">XY</code> 轴一起选中就是这个地质单元。</p>
  </li>
</ol>

<h4 id="随机存取存储器">随机存取存储器</h4>

<h5 id="静态ram-static-ram">静态RAM (Static RAM)</h5>

<p>大致原理如图</p>

<p><img src="https://s2.loli.net/2022/04/28/6sg95htJPe14nSK.png" alt="静态 RAM 基本电路" /></p>

<p>其他所有操作同上。</p>

<h5 id="动态-ram-dynamic-ram">动态 RAM (Dynamic RAM)</h5>

<p><img src="https://s2.loli.net/2022/04/28/DUdAmnPtS2iw146.png" alt="动态 RAM (Dynamic RAM)" /></p>

<p>特点</p>

<ul>
  <li>利用电容保存电荷</li>
  <li><strong>写入信息与输入相同</strong></li>
  <li><strong>读出信息与存储信息不同</strong>，需要添加非门</li>
</ul>

<p>还有一种是单管的 RAM</p>

<p><img src="https://s2.loli.net/2022/04/28/KyxJW6m1lR2I5BM.png" alt="单管 RAM" /></p>

<p>由于电容会漏单的缘故，因此需要刷新放大器对存储信息进行定时刷新</p>

<p>动态 RAM 的刷新：</p>

<ul>
  <li>每次刷新只与<strong>行地址</strong>相关，每次刷新一次</li>
  <li>集中刷新：在一段时间内集中刷新，在这段时间内不可用，即死区。</li>
  <li>分散刷新，在读写操作中刷新，读写操作时间变长，拖慢速度。</li>
  <li>异步刷新：结合起来，每隔一段时间对某一行进行刷新，多个读写操作加一个刷新操作。</li>
</ul>

<h5 id="比较">比较</h5>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>DRAM</th>
      <th>SRAM</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>原理</td>
      <td>电容</td>
      <td>触发器</td>
    </tr>
    <tr>
      <td>集成度</td>
      <td>高</td>
      <td>低</td>
    </tr>
    <tr>
      <td>芯片引脚</td>
      <td>少</td>
      <td>多</td>
    </tr>
    <tr>
      <td>功耗</td>
      <td>小</td>
      <td>大</td>
    </tr>
    <tr>
      <td>价格</td>
      <td>低</td>
      <td>贵</td>
    </tr>
    <tr>
      <td>速度</td>
      <td>慢</td>
      <td>快</td>
    </tr>
    <tr>
      <td>刷新</td>
      <td>刷</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h4 id="只读存储器-rom-read-only-memory">只读存储器 ROM (Read Only Memory)</h4>

<ul>
  <li>掩模 ROM(MROM) : 只读，不可修改</li>
  <li>PROM (一次性编程 ROM) ： 熔丝 ROM</li>
  <li>EPROM(有限多次编程) ： 紫外线消除浮动栅</li>
  <li>EEPROM (多次编程) ： 电擦，电写</li>
  <li>闪存 ： 快，部分的RAM 功能</li>
</ul>

<h4 id="cpu-与存储器的连接">CPU 与存储器的连接</h4>

<ul>
  <li>地址线： <strong>地位地址 ，高位片选</strong></li>
  <li>数据线</li>
  <li>读写</li>
</ul>

<p><img src="https://s2.loli.net/2022/04/28/GgaFIMwhCyT6noQ.png" alt="CPU 与存储器的连接" /></p>

<p>看图就好了</p>

<h4 id="存储器的校验">存储器的校验</h4>

<p>首先有一个公式</p>

<p>\(L-1=D+C (D\ge C)\)
L 为最小距离，D 为检错位数，C 为纠错位数</p>

<p>汉明码采用奇校验</p>

<p>以一定范围内所有的 $2^k$ 和 $0$ 作为校验位，然后异或和就是位置，如果与 0 不符合，则存在多个错误。</p>

<h4 id="提高主存的访问和存储速度">提高主存的访问和存储速度</h4>

<ul>
  <li>高速硬件</li>
  <li>层次 <code class="language-plaintext highlighter-rouge">Cache - 主存</code></li>
  <li>调整结构</li>
</ul>

<p>有如下系统的调整</p>

<ul>
  <li>单体多字系统
    <ul>
      <li>实现： 一次取出多位数据放入内存之中</li>
      <li>优点
        <ul>
          <li>增加存储器的带宽</li>
        </ul>
      </li>
      <li>缺点
        <ul>
          <li>冗余多余的位，可能带来错误</li>
          <li>实现复杂</li>
          <li>非连续的地址拿取较慢</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>高位交叉
    <ul>
      <li>实现：假若有多个存储体，每个存储体是连续编址的即 <code class="language-plaintext highlighter-rouge">[体号|体内地址]</code>的形式</li>
      <li>优点
        <ul>
          <li>有并行的基础</li>
          <li>易于提高存储容量</li>
        </ul>
      </li>
      <li>缺点
        <ul>
          <li>通常程序是顺序执行的，所以可能大多数的执行都在读取一个存储体</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>地位交叉
    <ul>
      <li>实现：与高位交叉相反</li>
      <li>优点
        <ul>
          <li>不改变存取周期的前提下，增加存储器的带宽</li>
        </ul>
      </li>
      <li>缺点</li>
      <li>时间：$T+(4-1)\tau$</li>
    </ul>
  </li>
</ul>

<h5 id="高性能存储芯片">高性能存储芯片</h5>

<ol>
  <li>SDRAM</li>
  <li>RDRAM</li>
  <li>带 Cache 的 DRAM</li>
</ol>

<h3 id="高速缓冲存储器">高速缓冲存储器</h3>

<h4 id="概述-2">概述</h4>

<p>因为存取速度和计算速度不匹配，所以中间用一层缓存来加快计算速度</p>

<p>程序访问的局部性原理：</p>

<ul>
  <li>时间局部性：当前正在使用的指令或数据，会在不久的将来还会使用到，那么应该把这种数据或指令放在缓存中。</li>
  <li>空间局部性：当前正在使用的指令或数据，不久的将来，相邻的指令或数据会使用到，那么应该把当前和相邻的指令和数据放到缓存中。</li>
</ul>

<h5 id="cache-的工作原理">Cache 的工作原理</h5>

<ol>
  <li>由于Cache的大小远远小于主存，因此，将主存Cache划分为多个和<strong>大小相等的块</strong>。然后 Cache + 在相应的块上标记出主存的地址，就知道对应哪块地址了。</li>
  <li>如果主存调入了Cache，就称为命中，否则未命中。</li>
</ol>

<p><img src="https://s2.loli.net/2022/04/28/XahcEDBw6Rzx1QW.png" alt="Cache的基本结构" /></p>

<h5 id="cache-的基本结构与读写操作">Cache 的基本结构与读写操作</h5>

<p>读</p>

<pre><code class="language-mermaid">flowchart LR;

A(["开始"]);
B["CPU 发出访问地址"];
A --&gt; B --&gt; C;
C{命中} --&gt;|是|D[访问Cache\n取出信息送往CPU];
C --&gt;|否| E[访问主存取出\n信息送往CPU] &amp; F{Cache满?}  ;
F --&gt;|是| G[执行替换算法腾出空位];
F --&gt;|否| H[将主存块中的内容调入Cache] ;
G --&gt; H;
D &amp; E &amp; H --&gt; I(["结束"]);

</code></pre>

<p>写</p>

<ul>
  <li>
    <p>写直达法(Write-through)</p>

    <p>写操作的时候既写入Cache又写入主存</p>

    <p>写操作时间就是访问主存的时间</p>

    <p>更新策略容易实现</p>
  </li>
  <li>
    <p>写回法</p>

    <p>写操作的时候只把数据写入Cache而不写入主存</p>

    <p>Cache数据替换出去的时候才写回主存</p>
  </li>
</ul>

<h5 id="cache-改进">Cache 改进</h5>

<ol>
  <li>增加 Cache 级数</li>
  <li>统一缓存和分立缓存</li>
</ol>

<h4 id="cache-主存的地址映射">Cache-主存的地址映射</h4>

<h5 id="直接映射">直接映射</h5>

<p><img src="https://s2.loli.net/2022/04/28/4IsP3kJuBeMfdD6.png" alt="直接映射" /></p>

<p>主存中任意一个快，<strong>只能映射到 Cache 中一个块</strong>，Cache 则是一对多。在Cache 中有 t 位标记，表示该 cache 存储的到底是哪个块的信息。</p>

<p>该映射方式的命中率低，并且容易冲突</p>

<h5 id="全相联映射">全相联映射</h5>

<p>类似卷积，Cache的块和主存中的块组成一个完全二分图</p>

<p><img src="https://s2.loli.net/2022/04/28/gla1NT9Vs3pkDeo.png" alt="全相联映射" /></p>

<p>存储效率变高，但是带来的是<strong>检测</strong>的时候性能下降。速度慢</p>

<h5 id="组相联映射">组相联映射</h5>

<p>是结合上面两种映射方式的折中办法。</p>

<h4 id="替换算法">替换算法</h4>

<ol>
  <li>
    <p>先入先出(FIFO)算法</p>
  </li>
  <li>
    <p>近期少用(FRU)</p>
  </li>
</ol>

</div><section class="article__sharing d-print-none"><!-- AddToAny BEGIN -->
<div class="a2a_kit a2a_kit_size_32 a2a_default_style">
   <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
   <a class="a2a_button_wechat"></a>
   <a class="a2a_button_copy_link"></a>
   <a class="a2a_button_twitter"></a>
   <a class="a2a_button_email"></a>
</div>
<script async src="https://static.addtoany.com/menu/page.js"></script>
<!-- AddToAny END -->
</section><div class="d-print-none"><footer class="article__footer"><meta itemprop="dateModified" content="2022-04-27T00:00:00+00:00"><!-- start custom article footer snippet -->

<!-- end custom article footer snippet -->
<div class="article__subscribe"><div class="subscribe"><i class="fas fa-rss"></i> <a type="application/rss+xml" href="/feed.xml">Subscribe</a></div>
</div><div class="article__license"><div class="license">
    <p>This work is licensed under <a itemprop="license" rel="license" href="https://github.com/Real-king-Ph/Real-king-Ph.GitHub.io/blob/master/LICENSE">The MIT License</a> license.
    </p>
  </div></div></footer>
<div class="article__section-navigator clearfix"><div class="previous"><span>PREVIOUS</span><a href="/cheetsheet/2022/04/26/Linux-knowledge-conclusion.html">Linux 小结</a></div><div class="next"><span>NEXT</span><a href="/misc/2022/05/02/WSL2-anzhuang-n-remote-ssh.html">WSL2安装Ubuntu & 远程登录 Linux 主机</a></div></div></div>

</div>

<script src="/assets/scripts/article.js">
</script>


<div class="post-categories">
  
  
  <a class="button button--outline-secondary button--pill"
    href="/categories/cheetsheet">cheetsheet</a>
  
  
</div><div id="totop"
   style="position: fixed; bottom: 90px; right: 40px; opacity: 0;background: url(/assets/images/topbutton.png) no-repeat center center;">
   <a id="totop_a" title="Back To Top" style="width:64px; height:64px;display: block;"></a>
</div>
</div><section class="page__comments d-print-none"></section></article><!-- start custom main bottom snippet -->

<!-- end custom main bottom snippet -->
</div>
            </div></div></div><div class="page__footer d-print-none">
<footer class="footer py-4 js-page-footer">
  <div class="main"><div itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="phrk"><meta itemprop="url" content="https://blog.ohtoai.fun/about/"><!-- Success is not final, failure is not fatal: it is the courage to continue that counts. -->
        <meta itemprop="description" content="Success is not final, failure is not fatal: it is the courage to continue that counts."><div class="footer__author-links"><div class="author-links">
  <ul class="menu menu--nowrap menu--inline"><link itemprop="url" href="https://blog.ohtoai.fun/about/"><li title="Send me an Email.">
      <a class="button button--circle mail-button" itemprop="email" href="mailto:phrknfish@outlook.com" target="_blank">
        <i class="fas fa-envelope"></i>
      </a><li title="Follow me on Github.">
        <a class="button button--circle github-button" itemprop="sameAs" href="https://github.com/Real-king-Ph" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path class="svgpath" data-index="path_0" fill="#272636" d="M0 525.2c0 223.6 143.3 413.7 343 483.5 26.9 6.8 22.8-12.4 22.8-25.4l0-88.7c-155.3 18.2-161.5-84.6-172-101.7-21.1-36-70.8-45.2-56-62.3 35.4-18.2 71.4 4.6 113.1 66.3 30.2 44.7 89.1 37.2 119 29.7 6.5-26.9 20.5-50.9 39.7-69.6C248.8 728.2 181.7 630 181.7 513.2c0-56.6 18.7-108.7 55.3-150.7-23.3-69.3 2.2-128.5 5.6-137.3 66.5-6 135.5 47.6 140.9 51.8 37.8-10.2 80.9-15.6 129.1-15.6 48.5 0 91.8 5.6 129.8 15.9 12.9-9.8 77-55.8 138.8-50.2 3.3 8.8 28.2 66.7 6.3 135 37.1 42.1 56 94.6 56 151.4 0 117-67.5 215.3-228.8 243.7 26.9 26.6 43.6 63.4 43.6 104.2l0 128.8c0.9 10.3 0 20.5 17.2 20.5C878.1 942.4 1024 750.9 1024 525.3c0-282.9-229.3-512-512-512C229.1 13.2 0 242.3 0 525.2L0 525.2z" />
</svg>
</div>
        </a>
      </li></ul>
</div>
</div>
    </div><div class="site-info mt-2">
      <div>© RK's blog 2022-2023,
        Powered by <a title="Jekyll is a simple, blog-aware, static site generator." href="http://jekyllrb.com/">Jekyll</a> & <a
        title="TeXt is a super customizable Jekyll theme." href="https://github.com/kitian616/jekyll-TeXt-theme">TeXt Theme</a>.
      </div>
      <p id="hitokoto">:D loading...</p>
      <script src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto" defer></script>
    </div>
  </div>
</footer>
</div></div>
    </div><script src="/assets/scripts/lib/modal.js"></script><div class="modal modal--overflow page__search-modal d-print-none js-page-search-modal"></div></div>


<script src="/assets/scripts/lib/scroll-to.js"></script>
<script src="/assets/scripts/lib/affix.js"></script>
<script src="/assets/scripts/lib/toc.js"></script><script src="/assets/scripts/page.js"></script><!-- toc must before affix, since affix need to konw toc' height. --><script src="/assets/scripts/aside/toc.js"></script><script src="/assets/scripts/aside/affix.js"></script><script>
   MathJax = {
      tex: {
         inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
   };
</script>
<script type="text/javascript"  id="MathJax-script" src="https://cdn.bootcdn.net/ajax/libs/mathjax/3.2.0/es5/tex-chtml.js" async></script>
<script>
  window.Lazyload.js('https://cdn.bootcdn.net/ajax/libs/mermaid/10.4.0/mermaid.min.js', function() {
    mermaid.initialize({
      startOnLoad: true
    });
    mermaid.init(undefined, '.language-mermaid');
  });
</script>

    </div>
    <script src="/assets/scripts/common.js"></script>
  </body>
</html>

